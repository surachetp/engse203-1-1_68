# 📊 บันทึกผลการทดลอง - Workshop 13 Level 1

## ผู้ทดลอง
- ชื่อ: [Surachet Pengcom]
- วันที่: [1-Feb-2026]

## ส่วนที่ 1: สร้าง Table
**คำสั่งที่ใช้:**
```bash
node 1-create-table.js
```
**ผลลัพธ์:**

```
📁 Creating todos table...
✅ Table created successfully!

📋 Table structure:
┌─────────┬─────┬──────────────┬───────────┬─────────┬─────────────────────┬────┐
│ (index) │ cid │ name         │ type      │ notnull │ dflt_value          │ pk │
├─────────┼─────┼──────────────┼───────────┼─────────┼─────────────────────┼────┤
│ 0       │ 0   │ 'id'         │ 'INTEGER' │ 0       │ null                │ 1  │
│ 1       │ 1   │ 'task'       │ 'TEXT'    │ 1       │ null                │ 0  │
│ 2       │ 2   │ 'done'       │ 'INTEGER' │ 0       │ '0'                 │ 0  │
│ 3       │ 3   │ 'created_at' │ 'TEXT'    │ 0       │ 'CURRENT_TIMESTAMP' │ 0  │
└─────────┴─────┴──────────────┴───────────┴─────────┴─────────────────────┴────┘
```

- [✅] สร้าง table สำเร็จ

**บันทึกสิ่งที่สังเกต:**
- ตาราง `todos` ถูกสร้างสำเร็จและมีคอลัมน์หลักดังนี้:
  - `id` (INTEGER) เป็น primary key
  - `task` (TEXT) ตั้งเป็น NOT NULL
  - `done` (INTEGER) ค่าเริ่มต้นเป็น `0`
  - `created_at` (TEXT) ค่าเริ่มต้นเป็น `CURRENT_TIMESTAMP` (เก็บวันที่/เวลาเมื่อสร้าง)
- การรันสคริปต์ไม่พบ error ขณะสร้างตาราง


---

## ส่วนที่ 2: เพิ่มข้อมูล
**คำสั่งที่ใช้:**
```bash
node 2-insert-data.js
```
**ผลลัพธ์:**

```
➕ Inserting todos...

✅ Added 5 todos

📋 All todos:
┌─────────┬────┬────────────────────┬──────┬───────────────────────┐
│ (index) │ id │ task               │ done │ created_at            │
├─────────┼────┼────────────────────┼──────┼───────────────────────┤
│ 0       │ 4  │ 'อ่านหนังสือบทที่ 5'    │ 0    │ '2026-02-01 07:59:40' │
│ 1       │ 6  │ 'ซื้อของที่ตลาด'       │ 0    │ '2026-02-01 08:11:40' │
│ 2       │ 7  │ 'ทำการบ้านคณิตศาสตร์' │ 0    │ '2026-02-01 08:11:40' │
│ 3       │ 8  │ 'ออกกำลังกาย'       │ 0    │ '2026-02-01 08:11:40' │
│ 4       │ 9  │ 'อ่านหนังสือ'         │ 0    │ '2026-02-01 08:11:40' │
│ 5       │ 10 │ 'ทำความสะอาดห้อง'   │ 0    │ '2026-02-01 08:11:40' │
└─────────┴────┴────────────────────┴──────┴───────────────────────┘
```

- **จำนวน todos ที่เพิ่ม:** 5

**บันทึกผล:**
- สคริปต์เพิ่มข้อมูลทำงานสำเร็จ (`✅ Added 5 todos`).
- ตารางตอนนี้มี 6 รายการ (id: 4,6,7,8,9,10) — สังเกตว่า id 5 ไม่ปรากฏ (น่าจะถูกลบหรือไม่ถูกสร้างก่อนหน้านี้)。
- คอลัมน์ `created_at` ถูกตั้งเวลาเป็นเวลาที่เพิ่มข้อมูล

## ส่วนที่ 3: Query ข้อมูล
**SQL ที่ทดสอบ:**
- `SELECT * FROM todos`
- `SELECT * FROM todos WHERE done = 0`
- `SELECT * FROM todos WHERE id = ?` (ทดสอบกับ id = 1)
- `SELECT COUNT(*) as total FROM todos`
- `SELECT id, task, done FROM todos`

**ผลลัพธ์:**

```
🔍 Selecting todos...

1️⃣ All todos:
┌─────────┬────┬────────────────────┬──────┬───────────────────────┐
│ (index) │ id │ task               │ done │ created_at            │
├─────────┼────┼────────────────────┼──────┼───────────────────────┤
│ 0       │ 4  │ 'อ่านหนังสือบทที่ 5'    │ 0    │ '2026-02-01 07:59:40' │
│ 1       │ 6  │ 'ซื้อของที่ตลาด'       │ 0    │ '2026-02-01 08:11:40' │
│ 2       │ 7  │ 'ทำการบ้านคณิตศาสตร์' │ 0    │ '2026-02-01 08:11:40' │
│ 3       │ 8  │ 'ออกกำลังกาย'       │ 0    │ '2026-02-01 08:11:40' │
│ 4       │ 9  │ 'อ่านหนังสือ'         │ 0    │ '2026-02-01 08:11:40' │
│ 5       │ 10 │ 'ทำความสะอาดห้อง'   │ 0    │ '2026-02-01 08:11:40' │
└─────────┴────┴────────────────────┴──────┴───────────────────────┘

2️⃣ Pending todos (done = 0):
┌─────────┬────┬────────────────────┬──────┬───────────────────────┐
│ (index) │ id │ task               │ done │ created_at            │
├─────────┼────┼────────────────────┼──────┼───────────────────────┤
│ 0       │ 4  │ 'อ่านหนังสือบทที่ 5'    │ 0    │ '2026-02-01 07:59:40' │
│ 1       │ 6  │ 'ซื้อของที่ตลาด'       │ 0    │ '2026-02-01 08:11:40' │
│ 2       │ 7  │ 'ทำการบ้านคณิตศาสตร์' │ 0    │ '2026-02-01 08:11:40' │
│ 3       │ 8  │ 'ออกกำลังกาย'       │ 0    │ '2026-02-01 08:11:40' │
│ 4       │ 9  │ 'อ่านหนังสือ'         │ 0    │ '2026-02-01 08:11:40' │
│ 5       │ 10 │ 'ทำความสะอาดห้อง'   │ 0    │ '2026-02-01 08:11:40' │
└─────────┴────┴────────────────────┴──────┴───────────────────────┘

3️⃣ Todo with id = 1:
undefined

4️⃣ Count todos:
Total todos: 6

5️⃣ Only task and done:
┌─────────┬────┬────────────────────┬──────┐
│ (index) │ id │ task               │ done │
├─────────┼────┼────────────────────┼──────┤
│ 0       │ 4  │ 'อ่านหนังสือบทที่ 5'    │ 0    │
│ 1       │ 6  │ 'ซื้อของที่ตลาด'       │ 0    │
│ 2       │ 7  │ 'ทำการบ้านคณิตศาสตร์' │ 0    │
│ 3       │ 8  │ 'ออกกำลังกาย'       │ 0    │
│ 4       │ 9  │ 'อ่านหนังสือ'         │ 0    │
│ 5       │ 10 │ 'ทำความสะอาดห้อง'   │ 0    │
└─────────┴────┴────────────────────┴──────┘
```

**บันทึกผล:**
- `SELECT * FROM todos` คืนค่าทุกแถวที่มีอยู่ (รวมทั้งรายการที่เพิ่งเพิ่ม)
- `SELECT * FROM todos WHERE done = 0` ให้รายการทั้งหมดที่ยังไม่ทำเสร็จ (ตรงกับผลการเพิ่มข้อมูล)
- `SELECT * FROM todos WHERE id = 1` ให้ค่า `undefined` เนื่องจากไม่มีแถวที่มี id=1 ในฐานข้อมูลปัจจุบัน
- `SELECT COUNT(*) as total FROM todos` ให้ค่า `6` (จำนวนแถวทั้งหมด)
- `SELECT id, task, done FROM todos` แสดงเฉพาะคอลัมน์ที่ต้องการและได้ข้อมูลถูกต้อง


(ไฟล์นี้สามารถอัปเดตต่อได้เมื่อทำการทดลองส่วนอื่น ๆ ต่อไป)

---

## ส่วนที่ 4: Challenge ที่ทำเพิ่ม
**คำสั่งที่ใช้:**
```bash
node 6-todo-app.js
```

**รายละเอียด & ผลลัพธ์ (สรุป):**

- **Challenge 1: ค้นหา (searchTodos(keyword))**
  - ทำการค้นหาโดยใช้ SQL `LIKE '%keyword%'` บนคอลัมน์ `task`.
  - ตัวอย่างผลลัพธ์จากการค้นหา `ตลาด`:

```
🔎 Search results for "ตลาด":
┌─────────┬────┬─────────────────────────┬──────┬───────────────────────┐
│ (index) │ id │ task                    │ done │ created_at            │
├─────────┼────┼─────────────────────────┼──────┼───────────────────────┤
│ 0       │ 1  │ 'ซื้อของที่ตลาดและร้านขายยา' │ 1    │ '2026-02-01 07:59:40' │
└─────────┴────┴─────────────────────────┴──────┴───────────────────────┘
```
  - สรุป: ฟังก์ชันค้นหาทำงานและคืนค่ารายการที่มีคำค้นหาใน `task` ได้สำเร็จ.

- **Challenge 2: แก้ไข (updateTask(id, newTask))**
  - แก้ไขข้อความของ todo ตาม `id` ด้วย `UPDATE todos SET task = ? WHERE id = ?`.
  - ตัวอย่างการทดสอบ: `app.updateTask(4, 'อ่านหนังสือบทที่ 5')` → ผลลัพธ์:

```
✅ Updated todo #4 to: "อ่านหนังสือบทที่ 5"
```

  - สรุป: การแก้ไขสำเร็จและ `app.showAll()` แสดงข้อความที่อัปเดตแล้ว.

- **Challenge 3: ลบที่เสร็จหมด (clearCompleted())**
  - ลบทุกแถวที่ `done = 1` ด้วย `DELETE FROM todos WHERE done = 1`.
  - ตัวอย่างผลการทดสอบ (หลังทำเครื่องหมายรายการเป็นเสร็จและเรียก `clearCompleted()`):

```
🧹 Cleared 3 completed todo(s)
```

  - สรุป: ฟังก์ชันลบรายการที่เสร็จแล้วทำงานถูกต้อง — ตารางเหลือเฉพาะรายการที่ยังคง `done = 0`.

- **Challenge 4: เรียงลำดับ (showByDate())**
  - แสดง todos เรียงตาม `created_at` ใหม่สุดก่อน (`ORDER BY created_at DESC`).
  - ผลลัพธ์ตัวอย่าง:

```
🗂️ Todos by date (newest first):
┌─────────┬────┬─────────────────────────┬──────┬───────────────────────┐
│ (index) │ id │ task                    │ done │ created_at            │
├─────────┼────┼─────────────────────────┼──────┼───────────────────────┤
│ 0       │ 1  │ 'ซื้อของที่ตลาดและร้านขายยา' │ 1    │ '2026-02-01 07:59:40' │
│ 1       │ 2  │ 'ทำการบ้านคณิตศาสตร์'      │ 1    │ '2026-02-01 07:59:40' │
│ 2       │ 3  │ 'ออกกำลังกาย'            │ 1    │ '2026-02-01 07:59:40' │
│ 3       │ 4  │ 'อ่านหนังสือบทที่ 5'         │ 0    │ '2026-02-01 07:59:40' │
└─────────┴────┴─────────────────────────┴──────┴───────────────────────┘
```
  - สรุป: การเรียงลำดับทำงานและแสดงรายการใหม่สุดก่อนตามที่คาดหวัง.

**ข้อสังเกตเพิ่มเติม:**
- การเรียก `node 6-todo-app.js` รัน demo และรวมการทดสอบทั้ง `searchTodos`, `updateTask`, `showByDate`, และ `clearCompleted` ในลำดับที่เหมาะสม — ผลลัพธ์ที่ได้ตรงกับ expected output ที่บันทึกไว้ข้างต้น.

(ไฟล์นี้สามารถอัปเดตต่อได้เมื่อทำการทดลองเพิ่มอื่น ๆ ต่อไป)
